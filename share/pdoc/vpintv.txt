 
      CALL SEQUENCE...
       vpintv  XIN XOUT PSURF INPUT OUTPUT [-lv1 VAL1 -lv2 VAL2 -kind VAL3]
 
 
      AUTHOR  - B.Dugas, NOV 29 1983.
      LAST REVISION: $Header: /home/cvs/RMNLIB/utils/rdiag/lspgm/vpintv.ptn,v 4.13 2014/09/25 20:20:55 dugas Exp $
 
 
      DESCRIPTION...
       vpintv - VERTICAL INTEGRAL WITH VARIABLE BOUNDARIES
 
 
      PURPOSE - DOES VERTICAL INTEGRAL OF XIN WHILE OPTIONNALY TAKING
                INTO ACCOUNT VARIABLE SURFACE PRESSURE AND/OR SPECIFIC
                INTEGRATION LIMITS.
 
      NOTES:  - 1) PSURF FILE MAY NOT BE USED DEPENDING ON THE VALUE READ
                   FOR MODE PARAMETER, (SEE THE DESCRIPTION OF MODE PARA-
                   METER BELOW). IF PSURF IS TO BE USED, IT HAS TO BE OF
                   THE SAME KIND AS XIN, (EITHER ZONL,SUBA OR GRID).
                2) THE PROGRAM ACTUALLY CALCULATES INT( XIN(P) DP/G ),
                   WHICH BY THE HYDROSTATIC APPROXIMATION IS VERY
                   CLOSE TO A VERTICAL MASS INTEGRAL.
                3) MINIMUM NUMBER OF LEVELS IS 2, MAX IS 999.
                   THEY SHOULD ALSO BE MONOTONICALLY VARYING.
 
 
      INPUT FILES...
       XIN   = SERIES OF PRESSURE LEVEL SETS TO BE INTEGRATED VERTICALLY
       PSURF = LOG OF SURFACE PRESSURE (units: MBs; variable name: 'LNSP' or 'LP')
               (OPTIONAL, CHECK MODE PARAMETER DESCRIPTION BELOW).
 
      OUTPUT FILE...
       XOUT  = OUTPUT ONE LEVEL VERTICAL INTEGRAL OF XIN.
 
 
      PARAMETERS...
 
       PB   (lv2)  = 0, DEFAULTS TO 1013.3 MB,
                     OTHERWISE, PB IS THE BOTTOM INTEGRATION LIMIT IN MB.
       PT   (lv1)  = TOP INTEGRATION LIMIT IN MB IF PB.NE.0
                     DEFAULTS TO LEV(1)/2        IF PB.EQ.0
       MODE (kind) = 0, VPINTV DOES NOT TAKE INTO ACCOUNT VARYING SURFACE
                     PRESSURES AND XIN CAN BE ANY KIND OF FIELD. IN THIS
                     CASE, VPINTV DOES NOT EVEN READ PSURF.
                     OTHERWISE, VPINTV TAKES INTO ACCOUNT VARYING SURFACE
                     PRESSURES AND XIN HAS TO BE SAME KIND AS PSURF
                    (EITHER ZONL, SUBA OR GRID).
 
       READ(5,5000) PB,PT,MODE
  5000 FORMAT(10X,2E10.0,I5)
 
 
      EXAMPLE OF INPUT CARD...
 
   VPINTV.      850.      100.         0
 
         0123456789012345678901234567890123456789012345678901234567890
         1         2         3         4         5         6         7
 
 
   IN THIS CASE VPINTV WILL INTEGRATE FROM 850 TO 100 MB WITHOUT
   CONSIDERING LNSP.
 
 
      EXIT CONDITIONS...
        0 NO PROBLEMS
        1 INCONSISTENT INPUT PARAMETERS
        2 TOO MAY OR NOT ENOUGH VERTICAL LEVELS
        3 DATA TYPE NOT SUPPORTED WITH REQUESTED MODE
        4 UNABLE TO READ FILE XIN
        5 MORE THAN ONE ARRAY SIZE IN FILE XIN
        6 UNABLE TO READ FILE PSURF
        7 FILE XIN AND PSURF HAVE INCOMPATIBLE ARRAYS
        8 UNABLE TO READ INPUT PARAMETER SECTION
        9 LEVELS DO NOT VARY MONOTONICALLY
       10 XIN DOES NOT CONTAIN PRESSURE LEVELS
 
