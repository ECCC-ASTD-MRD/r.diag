 
      CALL SEQUENCE...
       timagg  INFIL OUTFIL [ DATFIL ] OUTPUT [ -def ][ -delt VAL1 ]
 
 
      DESCRIPTION...
       timagg - CONVERT A SET OF TIME SERIES TO GRIDS.
 
 
      AUTHOR  - B.Dugas, JAN/87.
      LAST REVISION: $Header: /home/cvs/RMNLIB/utils/rdiag/lspgm/timagg.ptn,v 4.20 2015/02/13 18:53:43 dugas Exp $
 
 
      PURPOSE - TRANSPOSE A  FILE OF TIME SERIES (OR TIME SPECTRAL COEF-
                FICIENTS,  IF KIND= 'FOUR') AT SINGLE  POINTS (OR SINGLE
                SPACE  SPECTRAL COEFFICIENTS) TO PRODUCE A FILE OF (REAL
                OR COMPLEX) GRIDS OR ZONAL OR TIME FOURIER PROFILES (OR
                SPECTRAL ARRAYS).
 
 
      INPUT FILE...
       INFIL:  A FILE OF TIME SERIES (ONE RECORD FOR EACH POINT)
               WITH THE STANDARD TIME SERIES LABEL -->
 
                    IBIN(1) = THIS VALUE IS CONSERVED ON OUTPUT IF
                              'CMPL','GRID','SUBA' OR 'ZONL'. HOWEVER, IF
                              IT IS 'COEF', THE OUTPUT WILL BE 'SPEC'.
                              IF INPUT IS 'FOUR', OUTPUT IS SIMPLY
                              OF THE COMPLEX 'CMPL' TYPE.
                    IBIN(2) = LINEAR POSITION IN THE ORIGINAL ARRAY.
                    IBIN(3) = NAME
                    IBIN(4) = LEVEL
                    IBIN(5) = LENGTH OF SERIES.
                    IBIN(6) = 1
                    IBIN(7) = DIMENSIONS OF ARRAY KHEM (IN FORMAT CCCRRRK,
                              WHERE CCC IS THE NUMBER OF LONGITUDES AND RRR
                              IS THE NUMBER OF LATITUDES,  OR  LRLMT)
                    IBIN(8) = PACKING DENSITY
 
       DATFIL: AN OPTIONAL REAL TIME SERIES (OF SAME LENGTH AS THOSE
               OF INFIL) THAT CONTAINS THE TIMESTEP INFORMATION TO BE
               USED FOR OUTFIL.
 
       NOTES:  1) THE INPUT TIME SERIES ARE ALL SUPPOSED TO BE VALID FOR 
                  THE SAME TIME FRAME.
               2) BY DEFAULT, THE PROGRAM USES SCRATCH FILES TO SEPERATE
                  THE VARIABLES AND/OR THE LEVELS. EACH SYSTEM IMPOSES A
                  LIMIT TO THE NUMBER OF SUCH FILES. THIS IN TURN IMPOSES
                  A LIMIT ON THE NUMBER OF VARIABLES AND/OR LEVELS.
                  ACCORDINGLY, IF YOU KNOW THAT THE NUMBER OF LEVELS AND
                  VARIABLES IN DATFIL IS LARGER THAN THIS LIMIT, SPECIFY
                  THE "-def" KEY ON THE COMMAND LINE. THE PROGRAM WILL
                  THEN USE A SINGLE DIRECT-ACCESS SCRATCHFILE, APPENDING
                  TO IT AS NEED BE. THIS ALTERNATE PROCEDURE MAY TURN OUT
                  TO BE LESS EFFICIENT THAN THE MULTIPLE SCRATCH FILE
                  OPERATING MODE.
               3) IN THE COMPLEX 'CMPL' CASE, THE OPERATION ACTUALLY
                  YIELDS THE CONJUGATE TRANSPOSE MATRIX.
               4) TIMAGG IS THE FUNCTIONAL INVERSE OF GGATIM IN THE
                  SENSE THAT IT HAS THE BEST CHANCE TO RESTORE THE
                  DATA TO ITS ORIGINAL FORM (PRIOR TO GGATIM).
               5) THE SIZE OF THE ORIGINAL TIMESTEP or sample interval
                  (WHICH IS LOST WITH GGATIM) CAN BE RESTORED FOR RPN
                  STANDARD FILES BY USING THE "-delt" KEY.
 
 
      OUTPUT FILE...
       OUTFIL: A TIME SERIES OF GRID, ZONAL OR SPECTRAL PROFILES.
               THE FIRST VALUE IN ANY TIME SERIES FROM INFIL IS
               VALID AT TIME VALUE 0, THE SECOND IS VALID AT TIME
               VALUE ONE AND SO ON TO THE END OF INFIL.
 
 
 
      EXIT CONDITIONS...
        0 NO PROBLEMS
        1 ILLEGAL DATA TYPE
        2 OUTPUT GRID SIZE INCORRECT
        3 INFIL MAY NOT BE A TS FILE
        4 MORE THAN ONE SET OF VERTICAL LEVELS 
        5 TOO MANY VARIABLES AND/OR LEVELS
        6 ERROR ABORT READING INFIL IN GETFLD2
        7 MORE THAN ONE INPUT GRID SIZE
        8 MORE THAN ONE SET OF HORIZONTAL POSITIONS
        9 AT LEAST ONE INCOMPLETE SET IN INFIL
       10 ERROR ABORT READING INFIL IN GETSIZ
       11 ERROR ABORT WITH TEMPORARY FILES
       12 ERROR READING/USING DATFIL INFO
       13 ERROR ABORT READING DELT
       14 UNABLE TO ALLOCATE MEMORY
