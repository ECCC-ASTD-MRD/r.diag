 
      CALL SEQUENCE...
       globavg  CHAMP SINT OUTPUT [-def]
       msfact   CHAMP MSF
 
 
      PURPOSE...
       globavg - CALCULATES SURFACE AREA MEANS OF CHAMP
       msfact  - OUTPUT SURFACE MAP-SCALE-FACTORS FOR CHAMP
 
 
      AUTHOR   - B.Dugas, NOV 23/83.
      LAST REVISION: $Header: /home/cvs/RMNLIB/utils/rdiag/lspgm/globavg.ptn,v 4.24 2014/09/25 20:20:49 dugas Exp $
 
 
      PURPOSE  - CALCULATES THE SURFACE MEAN OF VALUES IN CHAMP FILE WHICH 
     (Globavg)   CAN BE OF SPECTRAL OR FOURIER WAVES, ZONAL CROSS-SECTIONS 
                 OR HORIZONTAL GRID(S) TYPE. HEMISPHERIC CROSS-SECTION AND
                 GRIDS FIELDS AS WELL AS COMPLEX GRID ARRAYS ARE ALSO
                 SUPPORTED. A LAM (LIMITED AREA) ARRAY INPUT WILL GENERATE
                 THE APPROPRIATE SURFACE WEIGHTED AREA MEANS.
 
      NOTES:  1) NAMES ARE NOT CHECKED AND SUPERLABELS ARE SIMPLY SKIPPED. 
              2) SPECIFYING THE "-def" COMMAND-LINE PARAMETER ACTIVATES A
                 MODE IN WHICH THE PROGRAM SIMPLY DOES THE SUM OF ALL DATA
                 POINTS. THIS MODE GIVES THE SAME RESULTS AS THE NORMAL ONE
                 PROVIDED THAT THE ARRAYS HAVE BEEN PRE-MULTIPLIED BY THE
                 APPROPRIATE SURFACE MAP-SCALE-FACTORS.
              3) THE "-def" MODE IS ALSO AUTOMATICALLY ACTIVATED FOR
                 POLAR-STEREOGRAPHIC ARRAYS.
                  
      PURPOSE  - ONLY CALCULATES THE MAP-SCALE-FACTORS FOR THE ARRAYS IN
     (MSFact)    THE FILE CHAMP. THE RESULTING NUMBERS ARE NOT NORMALIZED
                 BY THE TOTAL AREA OF THE ARRAYS. THE UNITS ARE THUS THE
                 PERCENTAGES OF THE GLOBAL AREA ASSOCIATED WITH EACH
                 GRID POINT. SUPPORTS ARRAY TYPES FOR WHICH GLOBAVG
                 CAN DEFINE THIS.
 
 
      INPUT FILE... 
       CHAMP = INPUT FILE OF FIELDS. THE FILE CAN BE SUPERLABELLED 
               OR NOT. THE FIELDS THEMSELVES CAN BE TYPE ZONL, GRID, 
               CMPL, SPEC OR FOUR. SUBA TYPES WILL ALSO BE TREATED
               BUT WITHOUT SURFACE MAP-SCALE-FACTORS, EXCEPT FOR
               L- AND Z-TYPE RPN ARRAYS WHICH ARE CORRECTLY HANDLED.
 
      OUTPUT FILE... (GLOBAVG OPTIONAL) 
       SINT  = OUTPUT ARRAYS OF SURFACE MEANS
 
      OUTPUT FILE... (MSFACT) 
       MSF   = OUTPUT ARRAYS OF SURFACE MAP-SCALE-FACTORS
 
      NOTE THAT IF FILE SINT IS SPECIFIED
           THEN
               THE COMPUTED VALUES ARE WRITTEN TO FILE SINT, (NO RESULT IS
               WRITTEN TO STDOUT). THE TYPE OF FILE SINT IS THE SAME AS THAT
               FOR THE INPUT FILE CHAMP. THE FILE DESCRIPTOR STRUCTURE IS
               LEFT UNCHANGED FOR EACH RECORD
           OTHERWISE, 
               THE COMPUTED VALUES ARE WRITTEN TO STDOUT
 
 
      EXIT CONDITIONS...
        0 NO PROBLEMS
        1 UNABLE TO READ FIRST LABEL IN CHAMP
        2 UNKNOWN/UNSUPPORTED FILE TYPE
        3 PREMATURE EOF ON FILE CHAMP
        4 FILE MSF NOT SPECIFIED
        5 UNSUPPORTED ARRAY
